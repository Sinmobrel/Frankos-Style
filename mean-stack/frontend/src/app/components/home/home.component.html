<!-- Hero Section -->
    <section id="inicio" class="hero">
        <div class="hero__content">
            <h1 class="hero__title">Descubre la Mejor Selección de Productos</h1>
            <p class="hero__subtitle">Calidad premium, precios increíbles y envío gratuito en todo Chile</p>
            <a href="/catalogo" class="btn btn--primary">Ver Productos</a>
        </div>
    </section>

    <!-- Productos Destacados -->
    <section id="productos" class="products">
        <div class="container">
            <h2 class="section__title">Productos Destacados</h2>
            <div *ngIf="loading">Cargando productos...</div>
            <div *ngIf="error" class="error-message">{{ error }}</div>
            <div class="products__grid" *ngIf="!loading && !error && featuredProducts.length">
                <div class="product-card" *ngFor="let product of featuredProducts">
                    <div class="product-card__image">
                        <img [src]="product.imageUrl" [alt]="product.name" />
                    </div>
                    <div class="product-card__content">
                        <h3 class="product-card__name">{{ product.name }}</h3>
                        <p class="product-card__price">{{ product.price | currency:'CLP':'symbol-narrow':'1.0-0' }}</p>
                        <button class="btn btn--secondary" (click)="openProductModal(product)">Ver producto</button>
                    </div>
                </div>
            </div>
            <div *ngIf="!loading && !error && !featuredProducts.length" class="empty-message">
                No hay productos destacados disponibles.
            </div>
        </div>
    </section>

    <!-- Beneficios -->
    <section class="benefits">
        <div class="container">
            <h2 class="section__title">¿Por Qué Elegirnos?</h2>
            <div class="benefits__grid">
                <div class="benefit-card">
                    <div class="benefit-card__icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                            <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                            <line x1="12" y1="22.08" x2="12" y2="12"/>
                        </svg>
                    </div>
                    <h3 class="benefit-card__title">Envío Gratuito</h3>
                    <p class="benefit-card__text">Envío gratis en pedidos superiores a $100.000 en todo Chile</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-card__icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
                            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
                            <path d="M3 12c0 5.5 4.5 10 10 10s10-4.5 10-10"/>
                        </svg>
                    </div>
                    <h3 class="benefit-card__title">Garantía de Calidad</h3>
                    <p class="benefit-card__text">Productos originales con garantía oficial del fabricante</p>
                </div>
                
                <div class="benefit-card">
                    <div class="benefit-card__icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                        </svg>
                    </div>
                    <h3 class="benefit-card__title">Soporte 24/7</h3>
                    <p class="benefit-card__text">Atención al cliente disponible todos los días del año</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contacto -->
    <section id="contacto" class="contact">
        <div class="container">
            <h2 class="section__title">Contáctanos</h2>
            <div class="contact__layout">
                <div class="contact__info-card">
                    <h3 class="info-card__title">Nuestra Tienda</h3>
                    <p class="info-card__address">Alameda 3410,<br>Persa Estación Central<br><strong>Local V-21</strong></p>
                    <div class="info-card__schedule">
                        <h4>Horario</h4>
                        <ul>
                            <li><span>Lunes a Sábado:</span> 12:00 - 18:30</li>
                            <li><span>Domingo:</span> Cerrado</li>
                        </ul>
                    </div>
                </div>
                <form class="contact__form">
                    <div class="form__group">
                        <label for="name" class="form__label">Nombre</label>
                        <input type="text" id="name" name="name" class="form__input" required>
                    </div>
                    
                    <div class="form__group">
                        <label for="email" class="form__label">Email</label>
                        <input type="email" id="email" name="email" class="form__input" required>
                    </div>
                    
                    <div class="form__group">
                        <label for="message" class="form__label">Mensaje</label>
                        <textarea id="message" name="message" class="form__textarea" rows="5" required></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn--primary">Enviar Mensaje</button>
                </form>
            </div>
        </div>
    </section>
    
    <!-- Modal del producto -->
    <div class="product-modal-overlay" *ngIf="selectedProduct" (click)="closeProductModal()" (keydown)="$event.key==='Escape' && closeProductModal()">
        <div class="product-modal-content" (click)="$event.stopPropagation()" (keydown)="$event.key==='Escape' && closeProductModal()">
            <button class="modal-close-btn" (click)="closeProductModal()">×</button>
            
            <div class="modal-product-image">
                <img [src]="selectedProduct.imageUrl" [alt]="selectedProduct.name">
            </div>
            
            <div class="modal-product-details">
                <h2>{{ selectedProduct.name }}</h2>
                <p class="modal-category">Categoría: {{ selectedProduct.category }}</p>
                <p class="modal-price">{{ selectedProduct.price | currency:'CLP':'symbol-narrow':'1.0-0' }}</p>
                
                <div class="modal-description">
                    <h3>Descripción</h3>
                    <p>{{ selectedProduct.description || 'Sin descripción disponible' }}</p>
                </div>
                
                <div class="modal-stock">
                    <span [ngClass]="{'in-stock': selectedProduct.stock > 0, 'out-of-stock': selectedProduct.stock <= 0}">
                        {{ selectedProduct.stock > 0 ? 'En stock: ' + selectedProduct.stock + ' unidades' : 'Agotado' }}
                    </span>
                </div>
                
                <div class="modal-actions">
                    <button class="btn-add-to-cart" [disabled]="selectedProduct.stock <= 0" (click)="contactViaWhatsApp(selectedProduct)">Contactar con vendedor</button>
                </div>
            </div>
        </div>
    </div>
